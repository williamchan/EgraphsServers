# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

###
### Test routes
###
%{ if (play.id == "test") }%

GET     /test/scenarios                          nonproduction.ScenarioController.list
GET     /test/scenarios/clear                    nonproduction.ScenarioController.clear
GET     /test/scenarios/{urlSlug}                nonproduction.ScenarioController.scenario
GET     /test/pages/egraph                       nonproduction.TestControllers.getHardwiredEgraphPage

GET     /demo-setup/list                         nonproduction.DemoSetupController.list
GET     /demo-setup/clear                        nonproduction.DemoSetupController.clear
GET     /demo-setup/{urlSlug}                    nonproduction.DemoSetupController.demoScenario

GET     /admin/reset-alpha-state                 nonproduction.TestControllers.resetAlphaState

GET     /test/request-transaction/without-error  nonproduction.TransactionTestController.makeAccount
GET     /test/request-transaction/with-error     nonproduction.TransactionTestController.makeAccountAndThrowException
GET     /test/request-transaction/is-stored      nonproduction.TransactionTestController.isStored
GET     /test/log-stuff-then-die                 nonproduction.TestControllers.logStuffThenThrowException

###
### Production routes
###

##
## Defaults
##
%{ if (true) }%
# Home page
GET     /                                       WebsiteControllers.getRootEndpoint

# For Alpha-phase prod mode:

GET     /test/memcached                         nonproduction.TestControllers.memcached
GET     /test/create-test-orders                nonproduction.TestControllers.createTestOrders
GET     /test/files/{<.*>blobKey}               WebsiteControllers.getBlob

# Map static resources from the /app/public folder to the /public path
GET     /public/                                staticDir:public
GET     /favicon.ico                            staticFile:/public/images/favicon.ico

##
## API
##
%{ api = '/api/1.0' }%

GET     ${api}/celebrities/{celebrityId}                          ApiControllers.getCelebrity
GET     ${api}/celebrities/{celebrityId}/enrollmenttemplate       ApiControllers.getCelebrityEnrollmentTemplate
GET     ${api}/celebrities/{celebrityId}/products                 ApiControllers.getCelebrityProducts
GET     ${api}/celebrities/{celebrityId}/orders                   ApiControllers.getCelebrityOrders
POST    ${api}/celebrities/{celebrityId}/orders/{orderId}         ApiControllers.postCelebrityOrder
POST    ${api}/celebrities/{celebrityId}/enrollmentsamples        ApiControllers.postEnrollmentSample
POST    ${api}/celebrities/{celebrityId}/orders/{orderId}/egraphs ApiControllers.postEgraph

##
## Admin
##
GET     /admin                                                     WebsiteControllers.getRootAdmin
GET     /admin/login                                               WebsiteControllers.getLoginAdmin
POST    /admin/login                                               WebsiteControllers.postLoginAdmin
POST    /admin/logout                                              WebsiteControllers.postLogoutAdmin
GET     /admin/accounts                                            WebsiteControllers.getAccountsAdmin
POST    /admin/accounts                                            WebsiteControllers.postAccountAdmin
GET     /admin/accounts/create                                     WebsiteControllers.getCreateAccountAdmin
GET     /admin/accounts/{accountId}                                WebsiteControllers.getAccountAdmin
GET     /admin/celebrities                                         WebsiteControllers.getCelebritiesAdmin
POST    /admin/celebrities                                         WebsiteControllers.postCelebrityAdmin
GET     /admin/celebrities/create                                  WebsiteControllers.getCreateCelebrityAdmin
GET     /admin/celebrities/{celebrityId}                           WebsiteControllers.getCelebrityAdmin
GET     /admin/celebrities/{celebrityId}/egraphs                   WebsiteControllers.getCelebrityEgraphsAdmin
GET     /admin/celebrities/{celebrityId}/inventorybatches          WebsiteControllers.getCelebrityInventoryBatchesAdmin
POST    /admin/celebrities/{celebrityId}/inventorybatches          WebsiteControllers.postCelebrityInventoryBatchAdmin
GET     /admin/celebrities/{celebrityId}/inventorybatches/create   WebsiteControllers.getCreateCelebrityInventoryBatchAdmin
GET     /admin/celebrities/{celebrityId}/orders                    WebsiteControllers.getCelebrityOrdersAdmin
GET     /admin/celebrities/{celebrityId}/products                  WebsiteControllers.getCelebrityProductsAdmin
POST    /admin/celebrities/{celebrityId}/products                  WebsiteControllers.postCelebrityProductAdmin
GET     /admin/celebrities/{celebrityId}/products/create           WebsiteControllers.getCreateCelebrityProductAdmin
GET     /admin/egraphs                                             WebsiteControllers.getEgraphsAdmin
GET     /admin/egraphs/{egraphId}                                  WebsiteControllers.getEgraphAdmin
POST    /admin/egraphs/{egraphId}                                  WebsiteControllers.postEgraphAdmin
GET     /admin/inventorybatches/{inventoryBatchId}                 WebsiteControllers.getInventoryBatchAdmin
GET     /admin/orders                                              WebsiteControllers.getOrdersAdmin
GET     /admin/orders/{orderId}                                    WebsiteControllers.getOrderAdmin
POST    /admin/orders/{orderId}                                    WebsiteControllers.postOrderAdmin
GET     /admin/products/{productId}                                WebsiteControllers.getProductAdmin
GET     /admin/script                                              WebsiteControllers.getScriptAdmin

##
## Website
##

# social media exploratory work
GET     /socialpost                                      WebsiteControllers.getSocialPost
GET     /facebooklogin                                   WebsiteControllers.getFacebookLogin
POST    /facebooklogin/callback                          WebsiteControllers.postFacebookLoginCallback

# Order and Egraph pages
GET     /orders/{<[0-9]+>orderId}/confirm                WebsiteControllers.getOrderConfirmation
GET     /egraph/{<[0-9]+>orderId}                        WebsiteControllers.getEgraph

# Celebrity pages
GET     /{celebrityUrlSlug}                      WebsiteControllers.getCelebrity
GET     /{celebrityUrlSlug}/{productUrlSlug}     WebsiteControllers.getCelebrityProduct
POST    /{celebrityUrlSlug}/{productUrlSlug}/buy WebsiteControllers.postBuyProduct
POST    /{celebrityUrlSlug}/{productUrlSlug}/buy-demo WebsiteControllers.postBuyDemoProduct
