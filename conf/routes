# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

###
### Test routes
###
%{ if (play.id == "test") }%

GET     /test/scenarios                          ScenarioController.list
GET     /test/scenarios/clear                    ScenarioController.clear
GET     /test/scenarios/{urlSlug}                ScenarioController.scenario

GET     /test/request-transaction/without-error  TransactionTestController.makeAccount
GET     /test/request-transaction/with-error     TransactionTestController.makeAccountAndThrowException
GET     /test/request-transaction/is-stored      TransactionTestController.isStored

GET     /test/files/{<.*>blobKey}                BlobControllers.getBlob
GET     /test/create-alpha-testers               test.createAlphaTesters


###
### Production routes
###

##
## Defaults
##
%{ if (true) }%
# Home page
GET     /                                       Application.index

# Ignore favicon requests
GET     /favicon.ico                            404

# Map static resources from the /app/public folder to the /public path
GET     /public/                                staticDir:public

##
## API
##
%{ api = '/api/1.0' }%

GET     ${api}/celebrities/{celebrityId}                          api.CelebrityApiControllers.getCelebrity
POST    ${api}/celebrities/{celebrityId}/enrollmentsamples        api.CelebrityApiControllers.postEnrollmentSample
GET     ${api}/celebrities/{celebrityId}/orders                   api.CelebrityApiControllers.getOrders
POST    ${api}/celebrities/{celebrityId}/orders/{orderId}/egraphs api.CelebrityOrderApiControllers.postEgraph

##
## Website
##

# Order and Egraph pages
GET     /orders/{<[0-9]+>orderId}/confirm                OrderConfirmationController.confirm
GET     /egraph/{<[0-9]+>orderId}                        EgraphController.egraph

# Celebrity pages
GET     /{celebrityUrlSlug}                      CelebrityController.index
GET     /{celebrityUrlSlug}/{productUrlSlug}     CelebrityProductController.index
POST    /{celebrityUrlSlug}/{productUrlSlug}/buy CelebrityProductController.buy

