# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

##
## Test routes
##
%{ if (play.id == "test") }%
GET     /test/scenarios                          ScenarioController.list
GET     /test/scenarios/clear                    ScenarioController.clear
GET     /test/scenarios/{name}                   ScenarioController.scenario
GET     /test/base64decode/{str}                 test.base64decode
GET     /test/script                             test.script

GET     /test/request-transaction/without-error  TransactionTestController.makeAccount
GET     /test/request-transaction/with-error     TransactionTestController.makeAccountAndThrowException
GET     /test/request-transaction/is-stored      TransactionTestController.isStored

GET     /test/files/{<.*>blobKey}                    BlobControllers.getBlob


##
## Production routes
##

##
## Website
##
%{ if (true) }%
# Home page
GET     /                                       Application.index

# Celebrity pages
GET     /{celebrityUrlSlug}                     CelebrityController.index
GET     /{celebrityUrlSlug}/{productUrlSlug}     CelebrityProductController.index

GET     /stripe                                 stripe.stripe
POST    /stripe                                 stripe.post

# Ignore favicon requests
GET     /favicon.ico                            404

# Map static resources from the /app/public folder to the /public path
GET     /public/                                staticDir:public

##
## API
##
%{ api = '/api/1.0' }%

GET     ${api}/celebrities/{celebrityId}                          CelebrityApiControllers.getCelebrity
GET     ${api}/celebrities/{celebrityId}/orders                   CelebrityApiControllers.getOrders
POST    ${api}/celebrities/{celebrityId}/orders/{orderId}/egraphs CelebrityOrderApiControllers.postEgraph

