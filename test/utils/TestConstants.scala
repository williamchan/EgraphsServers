package utils

import play.libs.Codec
import java.net.URLEncoder
import services.blobs.Blobs
import play.Play
import scala.Array

object TestConstants {

  val ApiRoot = "/api/1.0"

  val shortWritingStr = "{\"x\":[[67]],\"y\":[[198]],\"t\":[[324217524]]}"

  val emptyWritingStr = "{\"x\":[],\"y\":[],\"t\":[]}"

  val messageStr = "{\"x\":[[8,14,18,24,32,36,42,49,56,64,77,84,95,101,115,122,131,139,147,157,167,175,184,193,202,211,220,228,238,246,257,268,278,301,313,324,337,349,362,377,388,404,418,433,449,462,479,492,508,522,538,551,565,581,593,609,623,640,668,681,693,707,720,734,748,762,776,790,802,815,828,843,856,870,882,895,907,919,943,954,967,980,990,1003,1011,1018,1019]],\"y\":[[697,692,692,692,695,695,695,695,695,695,693,692,689,688,683,679,672,664,658,651,643,636,630,624,615,609,602,595,587,580,570,559,549,526,516,505,497,485,475,461,450,436,424,411,397,387,372,362,348,338,326,316,305,293,283,269,260,246,225,215,205,194,185,175,163,154,144,135,127,117,109,100,90,81,74,65,56,51,35,29,22,14,6,0,-7,-15,-17]],\"t\":[[0,93434000,109153250,125487625,148833291,157992291,174485958,190074625,206450000,222536250,255101041,270267416,303910208,321347625,354199041,370975875,386687791,403483000,420249750,437584125,453220416,470098166,486947416,503879583,520889666,536913458,554204833,570143083,587078500,604558541,621185833,637997375,653709208,670138208,687612791,703240000,719862083,737348541,754186958,770897833,787607083,803206166,819988625,836710333,853481583,870259666,887080125,903491250,920293916,937437125,953180125,970041375,986805541,1004626083,1021148458,1037634291,1053541333,1070423125,1087363291,1104282916,1119776791,1136519000,1153551958,1170357958,1187141625,1204059083,1220965333,1236801708,1253889083,1270833291,1287581041,1303722916,1320531500,1337918000,1353803625,1370907208,1388525333,1403778333,1421610791,1438146708,1454810333,1470365291,1487184583,1504355666,1520002958,1536630583,1553404000]]}"

  val signatureStr = "{\"x\":[[5,15,20,27,33,40,47,53,60,66,72,78,85,90,97,105,110,116,124,129,137,144,152,160,168,176,186,193,202,211,219,226,236,244,251,260,280,289,299,309,319,330,342,353,365,377,387,399,410,421,432,443,455,465,477,488,499,511,522,533,545,569,582,594,609,620,632,644,655,667,678,690,701,713,723,736,746,757,768,778,789,798,810,820,831,843,856,878,891,902,916,926,937,949,959,969,979,988,997,1004,1011,1016,1018,1021,1023]],\"y\":[[1011,1008,1008,1008,1007,1005,1005,1005,1005,1004,1003,1002,1000,998,997,994,991,989,987,985,983,980,978,975,973,970,967,964,961,959,956,955,953,951,949,948,941,938,932,929,925,921,917,911,907,902,899,896,894,891,886,882,877,874,871,868,865,861,857,852,848,841,837,832,827,824,820,818,815,811,808,803,799,795,794,791,788,784,781,778,774,771,769,765,761,757,751,741,738,734,728,723,719,715,712,708,704,700,697,693,690,687,684,681,679]],\"t\":[[2848553403,3076591153,3093772737,3108801362,3131821695,3141920153,3156472695,3173032778,3189782320,3205009653,3220990820,3237434320,3253336112,3269764070,3286381653,3302106320,3319188362,3335313070,3352257403,3369449362,3385200445,3402347153,3418667862,3435431195,3452733237,3469412945,3486006237,3503229028,3518767028,3536268987,3552472487,3568479612,3585425653,3601637612,3618402612,3636403070,3653442612,3669932570,3686360862,3703540778,3719290362,3734908278,3751638528,3768472778,3785267028,3802162987,3819108403,3835979695,3851679820,3868393695,3885333070,3902144820,3919317153,3934961737,3951912778,3968690945,3985503445,4002360862,4019376112,4035189237,4051621737,4069840903,4086343028,4103346570,4119327778,4136053528,4153047403,4169209612,4185014403,4201821195,4218656570,4235673903,4252559070,4268271112,4284911945,6624524,23350107,39990232,56803399,73652399,90289191,107185316,124353982,139938899,157288899,173976107,190431524,207339774,224287524,241105566,256736149,273393024,290190399,307040107,324217524,341077816,356683482,373413149,390143649,406790399,423629482,440263149,457387232,474161982,490982774]]}"

  val fakeAudio: Array[Byte] = "my audio".getBytes("UTF-8")

  def voiceStr(): String = {
    val wavBinary = Blobs.Conversions.fileToByteArray(Play.getFile("test/files/44khz.wav"))
    Codec.encodeBASE64(wavBinary)
  }

  def voiceStr_8khz(): String = {
    val wavBinary = Blobs.Conversions.fileToByteArray(Play.getFile("test/files/8khz.wav"))
    Codec.encodeBASE64(wavBinary)
  }

  /**
   * Making an HTTP request, even to a localhost API, requires that special characters be escaped.
   */
  def voiceStrPercentEncoded(): String = {
    URLEncoder.encode(voiceStr(), "US-ASCII")
  }

}