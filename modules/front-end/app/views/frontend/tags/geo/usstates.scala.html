@(selected: String="", formatStr: String = "html", states: List[(String, String)] = List("AL" -> "Alabama",
    "AB" -> "Alberta",
    "AK" -> "Alaska",
    "AZ" -> "Arizona",
    "AR" -> "Arkansas",
    "BC" -> "British Columbia",
    "CA" -> "California",
    "CO" -> "Colorado",
    "CT" -> "Connecticut",
    "DE" -> "Delaware",
    "DC" -> "Dist of Columbia",
    "FL" -> "Florida",
    "GA" -> "Georgia",
    "HI" -> "Hawaii",
    "ID" -> "Idaho",
    "IL" -> "Illinois",
    "IN" -> "Indiana",
    "IA" -> "Iowa",
    "KS" -> "Kansas",
    "KY" -> "Kentucky",
    "LA" -> "Louisiana",
    "ME" -> "Maine",
    "MB" -> "Manitoba",        
    "MD" -> "Maryland",
    "MA" -> "Massachusetts",
    "MI" -> "Michigan",
    "MN" -> "Minnesota",
    "MS" -> "Mississippi",
    "MO" -> "Missouri",
    "MT" -> "Montana",
    "NE" -> "Nebraska",
    "NB" -> "New Brunswick",
    "NV" -> "Nevada",
    "NH" -> "New Hampshire",
    "NJ" -> "New Jersey",
    "NL" -> "Newfoundland and Labrador",    
    "NM" -> "New Mexico",
    "NT" -> "Northwest Territories",
    "NS" -> "Nova Scotia",    
    "NU" -> "Nunavut",    
    "NY" -> "New York",
    "NC" -> "North Carolina",
    "ND" -> "North Dakota",
    "OH" -> "Ohio",
    "OK" -> "Oklahoma",
    "ON" -> "Ontario",    
    "OR" -> "Oregon",
    "PA" -> "Pennsylvania",
    "PE" -> "Prince Edward Island",    
    "QC" -> "QuÃ©bec",    
    "RI" -> "Rhode Island",
    "SC" -> "South Carolina",
    "SK" -> "Saskatchewan",    
    "SD" -> "South Dakota",
    "TN" -> "Tennessee",
    "TX" -> "Texas",
    "UT" -> "Utah",
    "VT" -> "Vermont",
    "VA" -> "Virginia",
    "WA" -> "Washington",
    "WV" -> "West Virginia",
    "WI" -> "Wisconsin",
    "WY" -> "Wyoming",
    "YT" -> "Yukon"))
@if(formatStr == "html") {
  @for((abbreviation, name) <- states) {
    <option value="@abbreviation" @if(abbreviation == selected) {selected}>@name</option>
  }
}
@if(formatStr == "json") {
  @{Html(states.map(state => "['" + state._1 + "','" + state._2 + "']").mkString("[", ",", "]"))}
}

@**   Prints <option> tags for each state.

      selected - abbreviation for the state whose <option> tag should have a "selected" attribute on
          it. No tags are "selected" if this is not provided or if it doesn't match a known abbreviation.

      states - Don't touch this.
*@