@(model: String, name: String, form: models.frontend.account.AccountSettingsForm)

@import views.frontend.Utils

<a id="@name-display" class="row-settings row-fluid action edit
  @{ val errors = List(
      form.addressLine1.error,
      form.addressLine2.error,
      form.city.error,
      form.state.error,
      form.postalCode.error)
      errors.flatten.headOption.map(a =>"none").getOrElse("") }">
  <span class="span3 row-label">@Utils.binding(model,".title")</span>
  <span class="span7">
    <address>
      @Utils.binding(model, ".line1")<br>
      @Utils.binding(model, ".line2")<br>
      @Utils.binding(model, ".city") @Utils.binding(model, ".state") @Utils.binding(model, ".postalCode")
    </address>
  </span>
  <span class="span2 action">
    <i class="icon-pencil"></i> Edit
  </span>
</a>

<div id="@name-edit" class="row-settings row-fluid
  @{ val errors = List(
      form.addressLine1.error,
      form.addressLine2.error,
      form.city.error,
      form.state.error,
      form.postalCode.error)
      errors.flatten.headOption.map(a =>"").getOrElse("none") }">
  <span class="span1"></span>
  <span class="span5">
    <address>
      @form_input(label="Address Line 1", model={model+".line1"}, name={name+".line1"})
      @form_input(label="Address Line 2", model={model+".line2"}, name={name+".line2"})
      @form_input(label="City", model={model+".city"}, name={name+".city"})
      @statepicker(label="State", model={model+".state"}, name={name+".state"})
      @form_input(label="Zip", model={model+".postalCode"}, name={name+".postalCode"})
    </address>
  </span>
  <span class="span4">
    <div class="control-group">
      <label class="control-label ng-label">&nbsp;</label>
      @form_error(form.addressLine1)
    </div>
    <div class="control-group">
      <label class="control-label ng-label">&nbsp;</label>
      @form_error(form.addressLine2)
    </div>
    <div class="control-group">
      <label class="control-label ng-label">&nbsp;</label>
      @form_error(form.city)
    </div>
    <div class="control-group">
      <label class="control-label ng-label">&nbsp;</label>
      @form_error(form.state)
    </div>
    <div class="control-group">
      <label class="control-label ng-label">&nbsp;</label>
      @form_error(form.postalCode)
    </div>
  </span>
  <span class="span2 action">
    @form_cancel(model, name)
  </span>
</div>
