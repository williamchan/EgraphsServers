@(model: models.frontend.storefront.OrderCompleteViewModel
)(implicit headerData: models.frontend.header.HeaderData,
  footerData: models.frontend.footer.FooterData,
  storefrontBreadcrumbs: models.frontend.storefront.StorefrontBreadcrumbs,
  session: play.mvc.Scope.Session
)

@{/** Renders the Order Complete page in the celebrity storefront. */}

@import frontend.formatting.MoneyFormatting.Conversions._
@import frontend.formatting.DateFormatting.Conversions._

@import views.frontend.tags.html.storefront_breadcrumbs_responsive
@import views.frontend.tags

@baseBody = {
    <div id="content" class="top" role="main">
    
      <div id="main" class="sub">
      
        <section id="checkout" class="container">
			
				 @storefront_breadcrumbs_responsive()
				 		
  				<header>	
  				  <h1>Order Complete</h1>
  				  <h2>@model.celebName | @model.productName</h2>  				
  				</header>

  				<div class="complete clearfix">
  				
  					<div class="congrats">
  					
  						<h2>Now it's @model.celebName's Turn</h2>
  					
  						<p>Congratulations! We just booked you a slice of time on @model.celebName's schedule to complete your order. For now, just sit back and relax. @model.celebName will send you an email as soon as he's done creating your Egraph, so look forward to hearing from him!</p>
  						
  						<p><small><a href="#" class="tip">What happen's now?</a></small></p>
  						  				
  					</div>

  					<div class="row">
  					
  						<div class="span6">
  						  							
  							<table>
  								<caption>Order Details</caption>
									<tr>
										<th>Egraph Order Date:</th>
										<td>@model.orderDate.formatDayAsPlainLanguage</td>
									</tr>
									<tr>
										<th>Egraph Purchased by:</th>
										<td>@model.buyerName</td>
									</tr>
									<tr>
										<th>Egraph Owner:</th>
										<td>@model.ownerName</td>
									</tr>
									<tr>
										<th>Owner's Email:</th>
										<td>@model.ownerEmail</td>
									</tr>
									<tr>
										<th>Celebrity:</th>
										<td>@model.celebName</td>
									</tr>
									<tr>
										<th>Order Number:</th>
										<td>@model.orderNumber</td>
									</tr>
									<tr>
										<th>Price:</th>
										<td>@model.totalPrice.formatPrecisely</td>
									</tr>
									<tr>
										<th>Guaranteed Delivery:</th>
										<td>@model.guaranteedDeliveryDate.formatDayAsPlainLanguage</td>
									</tr>
  							</table>
  							
  						
  						</div>

  						<div class="span6">
  						
  							<h3>Order Changes</h3>
  							
  							<p>Because we are scheduling time in @model.celebName's calendar there are limitations in our capabilities to refund your purchase. You have 15 minutes to modify or cancel your order.</p>
  							
  							<ul>
  								@{/** Re-enable this when we support order modification.
                    <li><a href="#">Modify Order</a></li>
                  */}
  								<li><a href="#modal-content" data-toggle="modal">Cancel Order</a></li>
  							</ul>
  						
  						</div>
  						  				
  					</div>
  				
  				</div> <!-- end .complete -->
  			
        </section> <!-- end #checkout -->

    	</div> <!-- end #main -->
    
    </div> <!-- end #content -->
    
		<div class="modal egraphs hide" id="modal-content">
		  <div class="modal-header">
		    <button type="button" class="close" data-dismiss="modal">Ã—</button>
		    <h2>Cancel Order Confirmation</h2>
		  </div>
		  <div class="modal-body">
	  		<div class="wrap clearfix">
	  		
	  			<figure>
	  				<img src='@asset("public/images/fpo-egraph.png")' alt="fpo-egraph" />
	  			</figure>
	  			
	  			<div>
	  				<p>Are you sure you want to cancel your order for @model.celebName's Egraph?</p>
            @tags.html.safeForm("method" -> "POST", "action" -> model.cancelOrderUrl) {
	  				  <button class="btn" data-toggle="button">Cancel Order</button>
            }
	  				<button class="btn" data-toggle="button" data-dismiss="modal">Do Not Cancel</button>
	  			</div>
	  			
	  		</div>		    
		  </div>
		</div>
    
}

@base_celebrity_storefront_template(
  title="Order Complete",
  jsMain="pages/celebrity-storefront-complete",
  body=baseBody
)