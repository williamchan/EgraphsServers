@(email: models.frontend.forms.Field[String],
  password: models.frontend.forms.Field[String],
  generalErrors: Iterable[models.frontend.forms.FormError],
  fbOauthUrl: String)(implicit session: play.mvc.Scope.Session)

@import controllers.WebsiteControllers
@import services.Utils.lookupUrl
@import views.Application.tags.html.authenticityToken
@import views.Application.tags.html.errorMessage
@import views.Application.html.content_base

@content_base(title="Egraphs - Login", body=body, head=head)

@postLogin = @{
  lookupUrl("WebsiteControllers.postLogin")
}

@head = {
<script src='@asset("public/twitter-bootstrap-1.4.0/js/bootstrap-alerts.js")' type="text/javascript"></script>
}

@body = {
<div class="admin-content">
  <div class="form row">
    <div class="span12 form-column">
      <form method="POST" action="@postLogin">
        <fieldset>
          @authenticityToken()
          <legend>Login</legend>
          <div class="clearfix @for(error <- email.error) {error}">
            <label for="@email.name">Email</label>
            <div class="input">
              <input class="span4"
                     id="@email.name"
                     name="@email.name"
                     type="text"
                     value="@email.value">
              <span class="help-inline">@email.error</span>
            </div>
          </div>
          <div class="clearfix @for(error <- password.error) {error}">
            <label for="@password.name">Password</label>
            <div class="input">
              <input class="span4" id="password" name="@password.name" type="password">
              <span class="help-inline">@password.error</span>
            </div>
          </div>
          <div class="actions">
            <button type="submit" id="submit-button" class="btn large primary fade in">Login</button>
            <div class="form-errors alert-message block-message @if(!generalErrors.isEmpty) {alert-message-has-errors}">
              <ul>
                @for(error <- generalErrors) {
                  <li>@error</li>
                }
              </ul>
            </div>
        </fieldset>
      </form>
    </div>
  </div>
  <a class="preview-link" href="/account/recover">Forgot your password?</a>
  <div id="facebook">
    <a class='fb_signup sprite' href=@fbOauthUrl>Login With Facebook</a>
  </div>
</div>
}
