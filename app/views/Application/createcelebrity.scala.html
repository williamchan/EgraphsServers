@(errorFields: Option[List[String]], fields: (String) => String)

@import controllers.WebsiteControllers
@import services.Utils.lookupUrl

@content_base(title="Admin - Create Celebrity", body=body, head=head)

@head = {
<script src='@asset("public/twitter-bootstrap-1.4.0/js/bootstrap-alerts.js")' type="text/javascript"></script>
}

@alertMessageClass = @{
errorFields match {
case None => ""
case Some(_) => "alert-message-has-errors"
}
}

@errorMessage = {
@errorFields.map { realErrors =>
Required fields are either missing or invalid. Please fix and resubmit.
<ul>
  @realErrors.map { theError =>
  <li>@theError</li>
  }
</ul>
}
}

@postCelebrity = @{
lookupUrl("WebsiteControllers.postCelebrity")
}

@formField(id: String,
label: String,
inputType: String,
width: String,
help: Option[Html] = None,
hasInputName: Boolean=true) = {

@nameAttribute = {
@if(hasInputName) {
name="@id"
}
}

<div class="clearfix">
  <label for="@id">@label</label>
  <div class="input">
    <input class="@width" id="@id" @nameAttribute type="@inputType" value="@fields(id)" >
    @help.map { htmlString =>
    <span class="help-block">@htmlString</span>
    }
  </div>
</div>
}

@body = {
<div class="admin-content">
  <h2>
    Create Celebrity
  </h2>
  <div class="form row">
    <div class="span12 form-column">
      <form id="celebrity-form" method="POST" action='@postCelebrity'>
        <fieldset>
          <legend>Celebrity info</legend>

          @formField(id="celebrityEmail", label="E-mail address", inputType="text", width="span4")

          @formField(id="celebrityPassword", label="Password", inputType="text", width="span4")

          @formField(id="firstName", label="First Name", inputType="text", width="span4")

          @formField(id="lastName", label="Last Name", inputType="text", width="span4")

          @formField(id="publicName", label="Public Name", inputType="text", width="span4", help=Some(publicNameHelp))
          @publicNameHelp = { Celebrity's popular name, eg "A-Rod" for Alex Rodriguez. Default is "First Last" }

          @formField(id="description", label="Description", inputType="text", width="span4")

          <!--@formField(id="isLeftHandled", label="Is Left-handed", inputType="checkbox", width="span4")-->

          <div class="actions">
            <button type="submit" id="submit-button" class="btn large primary fade in">Create Celebrity</button>
            <div class="form-errors alert-message block-message error @alertMessageClass">
              @errorMessage
            </div>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
}
