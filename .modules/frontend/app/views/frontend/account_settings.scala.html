@import views.frontend.tags
        
@NameValueRow(model: String, id:String, title: String) = {
  <tr id="@id-display" class="settings-row">
    <th class="span6">@title</th><td class="span15 setting-val">{{@model}}</td><td class="span1"><a href="#" class="action edit">Edit</a></td>
  </tr>
 <tr id="@id-edit" class="settings-row hide">
  <th class="span6">@title</th><label></label><td class="span15"><input ng-model="@model" type="text"/></td><td class="span1"><a ng-click='cancel("@model", "@id-edit");' class="action cancel">Cancel</a></td>
 </tr>
}

@AddressRow(title: String, fullname: String, address1:String, address2:String)  = {
<tr class="settings-row">
  <th class="span6">@title</th>
  <td class="span6">
    @fullname
  </td>
  <td class="span9">
      <span>
        <address>
          @address1<br>
          @address2
        </address>
       </span>
  </td>
  <td class="span1"><a href="#" class="edit">Edit</a></td>
</tr>
}

@checkboxRow(label: String, name: String, settings: Map[String, String]) = {
  <tr class="settings-row">
    <th class="span6">@label</th>
    <td class="span16">
     <fieldset>
       <div class="control-group">
         <div class="controls">
          @settings.map { option =>
            <label class="checkbox settings-col">
              <input type="checkbox" name="@name" value="@option._1"/>@option._2
            </label>
           }
         </div>
       </div>
     </fieldset>
    </td>
  </tr>
}


@baseBody = {
  <section id="content" role="main" ng-controller="Controller">
    <div id="main">
      <div class="container" id="settings-page">

        <header id="settings-top">
          <h1>Account Settings</h1>
        </header>
        <form name="form">
          <section class="settings-group" id="personal-information">

            <h2 >Personal Information</h2>
            <table class="table">
              @NameValueRow(model = "user.fullname", id = "fullname", title = "Name")
              @NameValueRow(model = "user.username", id = "username",title = "Username")
              @NameValueRow(model = "user.email", id = "email", title = "Email")
              @NameValueRow(model = "user.password", id = "password", title = "Password")

            </table>

          </section>

          <section class="settings-group" id="shipping-address">

            <h2>Shipping Address</h2>
            <table class="table">
            @AddressRow(title = "Primary", fullname = "Joshua Johnson", address1 = "5507 N 58th Street", address2 = "Seattle, WA 98101")

            </table>
            <a href="#" class="add-link"><p>+ Add Another Shipping Address</p></a>
          </section>

          <section class="settings-group" id="gallery-settings">
            <h2>My Gallery Settings</h2>
            <table class="table">
              @NameValueRow(model = "user.gallery.visibility", id="galleryvisibility", title = "Gallery Visibility")
              @NameValueRow(model = "user.gallery.url", id="galleryurl", title = "Gallery URL")
            </table>
          </section>

          <section class="settings-group" id="additional-settings">
            <h2>Additional Settings</h2>
            <table class="table">
             @checkboxRow(label = "Notices", name = "notice", Map( "new_stars" -> "New Star Additions (Weekly)",
                                                "news" -> "News",
                                                "mlb_updates" -> "Updates from Major League Baseball"))
              @checkboxRow(label = "Follow Egraphs", name = "social", Map( "facebook" -> "Facebook",
                                                                            "twitter" -> "Twitter",
                                                                            "tumblr"  -> "Tumblr"))
            </table>
          </section>
          <div class="row-fluid">
            <div class="span9"></div>
            <div class="span3 save-button">
              @tags.html.arrow_button(caption="Save Changes", target="#")
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>
}

@base_template(title="Your Account", body=baseBody)