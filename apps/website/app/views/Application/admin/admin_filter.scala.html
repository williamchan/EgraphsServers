@(filter: models.filters.Filter,
  errorFields: Option[List[String]] = None,
  filterValues: Iterable[models.filters.FilterValue],
  filterValueErrorFields: Option[List[String]] = None
  )(implicit authToken: egraphs.authtoken.AuthenticityToken,
  headerData: models.frontend.header.HeaderData,
  footerData: models.frontend.footer.FooterData)

@import controllers.WebsiteControllers
@import egraphs.authtoken.AuthenticityToken.safeForm
@import views.html.frontend.tags
@import views.html.frontend.tags.ng
@import views.html.frontend.base_template
@import views.html.Application.tags.errorMessage


@body = {
<section id="content" class="top" role="main">
  <div id="main" class="sub">
    <div class="container" id="celebrity-admin">
        @safeForm('method -> "POST", 'action -> routes.WebsiteControllers.postFilterAdmin.url, 'enctype -> "multipart/form-data") {
          @if(filter.id == 0) {
            <legend>New Filter</legend>
          } else {
            <legend>Filter @filter.id Details</legend>
          }
          <label>Name</label>  
          <input type="hidden" name="filterId" value="@filter.id">
          <input type="text" name="name" value="@filter.name">
          <label>PublicName</label>
          <input type="text" name="publicName" value="@filter.publicName"> 
          <div>   
            <button type="reset" class="btn">
              Reset
            </button>
            @tags.arrow_button(caption="Save")  
          </div>  
        }
        @errorMessage(errorFields)
        @if(filter.id != 0) {
          <h2>
            Filter Values
          </h2>  
          @errorMessage(filterValueErrorFields)
          <h3>Create a value</h3>
          @safeForm('method -> "POST", 'action -> routes.WebsiteControllers.postFilterValueAdmin.url, 'enctype -> "multipart/form-data", 'class -> "form-inline"){
            <label>Name</label>
            <input type="hidden" name="filterValueId" value="0">  
            <input type="hidden" name="filterId" value="@filter.id">
            <input type="text" name="name">
            <label>PublicName</label>
            <input type="text" name="publicName"> 
            <span class="help-block">Pick a name to be displayed publicly, like "Major League Baseball" or "Boston Red Sox"</span>
            <button class="btn btn-primary" type="submit">Save</button> 
          }
          <table class="table table-hover table-condensed">
            <thead>
              <tr>
                <th>id</td>
                <th>name</th>
                <th>publicname</th>
              </tr>
            </thead>  
            @filterValues.map { fv =>
              <tr>
                <td>@fv.id</td>
                <td>@fv.name</td>
                <td>@fv.publicName</td>
              </tr>  
            }
          </table>
        }  
        <a href="@routes.WebsiteControllers.getFiltersAdmin.url">Back to all filters</a>
    </div>
  </div>
</section>    
}

@base_template(title="Admin - Filter", body=body)