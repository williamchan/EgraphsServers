# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

###
### Test routes
###
%{ if (play.id == "test") }%

GET     /test/scenarios                          website.nonproduction.ScenarioController.list
GET     /test/scenarios/clear                    website.nonproduction.ScenarioController.clear
GET     /test/scenarios/{urlSlug}                website.nonproduction.ScenarioController.scenario

GET     /demo-setup/list                         website.nonproduction.DemoSetupController.list
GET     /demo-setup/clear                        website.nonproduction.DemoSetupController.clear
GET     /demo-setup/{urlSlug}                    website.nonproduction.DemoSetupController.demoScenario

GET     /test/request-transaction/without-error  website.nonproduction.TransactionTestController.makeAccount
GET     /test/request-transaction/with-error     website.nonproduction.TransactionTestController.makeAccountAndThrowException
GET     /test/request-transaction/is-stored      website.nonproduction.TransactionTestController.isStored
GET     /test/log-stuff-then-die                 website.nonproduction.TestControllers.logStuffThenThrowException
GET     /test/throwError                         website.nonproduction.TestControllers.throwError

###
### Production routes
###

##
## Defaults
##

# Need this TRUE conditional, otherwise the if (play.id == test) conditional from above
# applies to ALL THE REST OF THE ROUTES.
%{ if (true) }%

# Home page
GET     /blob/files/{<.*>blobKey}               WebsiteControllers.getBlob

# Map static resources from the /app/public folder to the /public path
GET     /public/                                staticDir:public
GET     /favicon.ico                            staticFile:/public/images/favicon.ico
GET     /documents/CelebrityAgreement           staticFile:/public/documents/CelebrityAgreement.pdf


##
## API
##
%{ api = '/api/1.0' }%

GET     ${api}/celebrities/{celebrityId}                           ApiControllers.getCelebrity
GET     ${api}/celebrities/{celebrityId}/enrollmenttemplate        ApiControllers.getCelebrityEnrollmentTemplate
GET     ${api}/celebrities/{celebrityId}/products                  ApiControllers.getCelebrityProducts
GET     ${api}/celebrities/{celebrityId}/orders                    ApiControllers.getCelebrityOrders
POST    ${api}/celebrities/{celebrityId}/orders/{orderId}          ApiControllers.postCelebrityOrder
POST    ${api}/celebrities/{celebrityId}/enrollmentsamples         ApiControllers.postEnrollmentSample
POST    ${api}/celebrities/{celebrityId}/orders/{orderId}/egraphs  ApiControllers.postEgraph

##
## Admin
##
GET     /admin/?                                                    WebsiteControllers.getRootAdmin
GET     /admin/accounts/?                                           WebsiteControllers.getAccountsAdmin
POST    /admin/accounts                                             WebsiteControllers.postAccountAdmin
GET     /admin/accounts/create/?                                    WebsiteControllers.getCreateAccountAdmin
GET     /admin/accounts/{accountId}/?                               WebsiteControllers.getAccountAdmin
GET     /admin/celebrities/?                                        WebsiteControllers.getCelebritiesAdmin
POST    /admin/celebrities                                          WebsiteControllers.postCelebrityAdmin
GET     /admin/celebrities/create/?                                 WebsiteControllers.getCreateCelebrityAdmin
POST    /admin/celebrities/featured                                 WebsiteControllers.postFeaturedCelebrities
GET     /admin/celebrities/{celebrityId}/?                          WebsiteControllers.getCelebrityAdmin
GET     /admin/celebrities/{celebrityId}/egraphs/?                  WebsiteControllers.getCelebrityEgraphsAdmin
GET     /admin/celebrities/{celebrityId}/inventorybatches/?         WebsiteControllers.getCelebrityInventoryBatchesAdmin
POST    /admin/celebrities/{celebrityId}/inventorybatches           WebsiteControllers.postCelebrityInventoryBatchAdmin
GET     /admin/celebrities/{celebrityId}/inventorybatches/create/?  WebsiteControllers.getCreateCelebrityInventoryBatchAdmin
GET     /admin/celebrities/{celebrityId}/orders/?                   WebsiteControllers.getCelebrityOrdersAdmin
GET     /admin/celebrities/{celebrityId}/products/?                 WebsiteControllers.getCelebrityProductsAdmin
POST    /admin/celebrities/{celebrityId}/products                   WebsiteControllers.postCelebrityProductAdmin
GET     /admin/celebrities/{celebrityId}/products/create/?          WebsiteControllers.getCreateCelebrityProductAdmin
GET     /admin/egraphs/?                                            WebsiteControllers.getEgraphsAdmin
GET     /admin/egraphs/{egraphId}/?                                 WebsiteControllers.getEgraphAdmin
POST    /admin/egraphs/{egraphId}                                   WebsiteControllers.postEgraphAdmin
GET     /admin/inventorybatches/{inventoryBatchId}/?                WebsiteControllers.getInventoryBatchAdmin
GET     /admin/login/?                                              WebsiteControllers.getLoginAdmin
POST    /admin/login                                                WebsiteControllers.postLoginAdmin
GET     /admin/orders/?                                             WebsiteControllers.getOrdersAdmin
GET     /admin/orders/{orderId}/?                                   WebsiteControllers.getOrderAdmin
POST    /admin/orders/{orderId}                                     WebsiteControllers.postOrderAdmin
GET     /admin/products/{productId}/?                               WebsiteControllers.getProductAdmin
GET     /admin/reports/?                                            WebsiteControllers.getReportsAdmin
GET     /admin/script/?                                             WebsiteControllers.getScriptAdmin
GET     /admin/tools/?                                              WebsiteControllers.getToolsAdmin
GET     /admin/sheriff/?                                            WebsiteControllers.getSheriffAdmin

##
## Consumer Website
##

GET     /?                                                          WebsiteControllers.getRootConsumerEndpoint
GET     /about/?                                                    WebsiteControllers.getAbout
GET     /terms/?                                                    WebsiteControllers.getTerms
GET     /privacy/?                                                  WebsiteControllers.getPrivacy
GET     /account/settings/?                                         WebsiteControllers.getAccountSettings
POST    /account/settings                                           WebsiteControllers.postAccountSettings
GET     /account/recover/?                                          WebsiteControllers.getRecoverAccount
POST    /account/recover                                            WebsiteControllers.postRecoverAccount
GET     /account/recover/confirmation/?                             WebsiteControllers.getRecoverAccountConfirmation
GET     /account/reset/?                                            WebsiteControllers.getResetPassword
POST    /account/reset                                              WebsiteControllers.postResetPassword
GET     /account/verify/?                                           WebsiteControllers.getVerifyAccount
GET     /account/{<[0-9]+>galleryCustomerId}/gallery/?              WebsiteControllers.getCustomerGalleryById
GET     /account/{username}/?                                       WebsiteControllers.getCustomerGalleryByUsername
GET     /egraph/{<[0-9]+>orderId}/?                                 WebsiteControllers.getEgraphRedirect
GET     /{<[0-9]+>orderId}/?                                        WebsiteControllers.getEgraph
GET     /facebooklogin/callback/?                                   WebsiteControllers.getFacebookLoginCallback
GET     /faq/?                                                      WebsiteControllers.getFAQ
GET     /inside-an-egraph/?                                         WebsiteControllers.getInsideEgraph
GET     /login/?                                                    WebsiteControllers.getLogin
POST    /login                                                      WebsiteControllers.postLogin
GET     /logout/?                                                   WebsiteControllers.getLogout
POST    /logout                                                     WebsiteControllers.postLogout
GET     /orders/{<[0-9]+>orderId}/confirm/?                         WebsiteControllers.getOrderConfirmation
POST    /orders/{<[0-9]+>orderId}/configure                         WebsiteControllers.postOrderPrivacy
POST    /register                                                   WebsiteControllers.postRegisterConsumerEndpoint

GET     /{celebrityUrlSlug}/?                                       WebsiteControllers.getCelebrityLanding
GET     /{celebrityUrlSlug}/photos/?                                WebsiteControllers.getStorefrontChoosePhotoTiled
GET     /{celebrityUrlSlug}/photos/{productUrlSlug}/?               WebsiteControllers.getStorefrontChoosePhotoCarousel
POST    /{celebrityUrlSlug}/photos/{productUrlSlug}                 WebsiteControllers.postStorefrontChoosePhoto
GET     /{celebrityUrlSlug}/photos/{productUrlSlug}/personalize/?   WebsiteControllers.getStorefrontPersonalize
POST    /{celebrityUrlSlug}/photos/{productUrlSlug}/personalize     WebsiteControllers.postStorefrontPersonalize
GET     /{celebrityUrlSlug}/photos/{productUrlSlug}/review/?        WebsiteControllers.getStorefrontReview
POST    /{celebrityUrlSlug}/photos/{productUrlSlug}/review          WebsiteControllers.postStorefrontReview
GET     /{celebrityUrlSlug}/photos/{productUrlSlug}/checkout/?      WebsiteControllers.getStorefrontCheckout
POST    /{celebrityUrlSlug}/photos/{productUrlSlug}/checkout        WebsiteControllers.postStorefrontCheckout
GET     /{celebrityUrlSlug}/photos/{productUrlSlug}/finalize/?      WebsiteControllers.getStorefrontFinalize
POST    /{celebrityUrlSlug}/photos/{productUrlSlug}/finalize        WebsiteControllers.postStorefrontFinalize
GET     /{celebrityUrlSlug}/photos/{productUrlSlug}/cc-error/?      WebsiteControllers.getStorefrontCreditCardError
GET     /{celebrityUrlSlug}/photos/{productUrlSlug}/no-inventory/?  WebsiteControllers.getStorefrontNoInventory
GET     /{celebrityUrlSlug}/photos/{productUrlSlug}/purchase-error/? WebsiteControllers.getStorefrontPurchaseError

##
## Admin Restricted Functionality - We want to keep certain admin functionality off customer-facing servers.
##
%{ if (play.configuration.getProperty('admin.tools.enabled') == 'full') }%
GET     /admin/printorders/?                                        WebsiteControllers.getPrintOrdersAdmin
GET     /admin/printorders/{printOrderId}/?                         WebsiteControllers.getPrintOrderAdmin
POST    /admin/printorders/{printOrderId}                           WebsiteControllers.postPrintOrderAdmin
POST    /{celebrityUrlSlug}/{productUrlSlug}/buy-demo               WebsiteControllers.postBuyDemoProduct
